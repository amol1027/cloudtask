<!-- Reusable Django messages / toast notifications partial -->
{% if messages %}
<div id="message-container" class="space-y-2">
    {% for message in messages %}
    <div class="toast-message {% if message.tags == 'error' %}bg-red-100 border border-red-400 text-red-700{% elif message.tags == 'success' %}bg-green-100 border border-green-400 text-green-700{% elif message.tags == 'warning' %}bg-yellow-100 border border-yellow-400 text-yellow-700{% else %}bg-blue-100 border border-blue-400 text-blue-700{% endif %} px-4 py-3 rounded relative"
        role="alert"
        style="transition: opacity 300ms ease, transform 300ms ease;">
        <span class="block sm:inline">{{ message }}</span>
        <button type="button" class="absolute top-0 right-0 mt-2 mr-2 text-gray-600 hover:text-gray-900" aria-label="Close" onclick="this.parentElement.style.opacity='0';this.parentElement.style.transform='translateY(-6px)';setTimeout(()=>this.parentElement.remove(),320);">&times;</button>
    </div>
    {% endfor %}
</div>
<script>
    // Auto-dismiss toast messages after 5 seconds
    (function() {
        document.querySelectorAll('.toast-message').forEach(function(el) {
            setTimeout(function() {
                if (!document.body.contains(el)) return;
                el.style.opacity = '0';
                el.style.transform = 'translateY(-6px)';
                setTimeout(function() { if (el.parentNode) el.parentNode.removeChild(el); }, 320);
            }, 5000);
        });
    })();
</script>
{% endif %}
